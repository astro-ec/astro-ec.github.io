---
import Image from '~/components/common/Image.astro';
import Button from '~/components/ui/Button.astro';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  tagline,
  content = await Astro.slots.render('content'),
  actions = await Astro.slots.render('actions'),

  id,
  bg = await Astro.slots.render('bg'),
  imageLight = await Astro.slots.render('image-light'),
  imageDark = await Astro.slots.render('image-dark'),
} = Astro.props;
---

<section class="relative w-full overflow-hidden not-prose" {...id ? { id } : {}}>
  <!-- Background Image (Slot-based) -->
  <div class="absolute inset-0 z-0 flex justify-center items-center pointer-events-none">
    <div class="relative max-w-5xl w-full">
      <div class="block dark:hidden">
        <slot name="image-light">
          {imageLight}
        </slot>
      </div>
      <div class="hidden dark:block">
        <slot name="image-dark">
          {imageDark}
        </slot>
      </div>
      <div class="absolute inset-0 bg-black/40 rounded-md"></div> <!-- Optional overlay -->
    </div>
  </div>

  <!-- Content -->
  <div class="relative z-10 max-w-5xl mx-auto px-6 py-20 text-center">
    {tagline && (
      <p class="text-base font-bold tracking-wide uppercase text-white dark:text-blue-200 mb-4" set:html={tagline} />
    )}
    {title && (
      <h1 class="text-5xl md:text-6xl font-bold leading-tight mb-4 text-white dark:text-gray-200" set:html={title} />
    )}
    {subtitle && (
      <p class="text-xl text-white/90 dark:text-slate-300 mb-8" set:html={subtitle} />
    )}
    {actions && (
      <div class="flex flex-col sm:flex-row justify-center gap-4 max-w-md mx-auto">
        {Array.isArray(actions) ? (
          actions.map((action) => (
            <div class="flex w-full sm:w-auto">
              <Button {...(action || {})} class="w-full" />
            </div>
          ))
        ) : (
          <Fragment set:html={actions} />
        )}
      </div>
    )}
    {content && <Fragment set:html={content} />}
  </div>
</section>
